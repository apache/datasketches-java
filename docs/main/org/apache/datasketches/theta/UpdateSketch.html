<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (25) -->
<title>UpdateSketch (datasketches-java 9.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.datasketches.theta, class: UpdateSketch">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/UpdateSketch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">org.apache.datasketches.theta</a></li>
<li><a href="UpdateSketch.html" class="current-selection">UpdateSketch</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#wrap(java.lang.foreign.MemorySegment)" tabindex="0">wrap(MemorySegment)</a></li>
<li><a href="#wrap(java.lang.foreign.MemorySegment,org.apache.datasketches.common.MemorySegmentRequest,long)" tabindex="0">wrap(MemorySegment, MemorySegmentRequest, long)</a></li>
<li><a href="#heapify(java.lang.foreign.MemorySegment)" tabindex="0">heapify(MemorySegment)</a></li>
<li><a href="#heapify(java.lang.foreign.MemorySegment,long)" tabindex="0">heapify(MemorySegment, long)</a></li>
<li><a href="#compact(boolean,java.lang.foreign.MemorySegment)" tabindex="0">compact(boolean, MemorySegment)</a></li>
<li><a href="#getCompactBytes()" tabindex="0">getCompactBytes()</a></li>
<li><a href="#hasMemorySegment()" tabindex="0">hasMemorySegment()</a></li>
<li><a href="#isCompact()" tabindex="0">isCompact()</a></li>
<li><a href="#isOffHeap()" tabindex="0">isOffHeap()</a></li>
<li><a href="#isOrdered()" tabindex="0">isOrdered()</a></li>
<li><a href="#isSameResource(java.lang.foreign.MemorySegment)" tabindex="0">isSameResource(MemorySegment)</a></li>
<li><a href="#builder()" tabindex="0">builder()</a></li>
<li><a href="#getResizeFactor()" tabindex="0">getResizeFactor()</a></li>
<li><a href="#getSeed()" tabindex="0">getSeed()</a></li>
<li><a href="#reset()" tabindex="0">reset()</a></li>
<li><a href="#rebuild()" tabindex="0">rebuild()</a></li>
<li><a href="#update(long)" tabindex="0">update(long)</a></li>
<li><a href="#update(double)" tabindex="0">update(double)</a></li>
<li><a href="#update(java.lang.String)" tabindex="0">update(String)</a></li>
<li><a href="#update(byte%5B%5D)" tabindex="0">update(byte[])</a></li>
<li><a href="#update(java.nio.ByteBuffer)" tabindex="0">update(ByteBuffer)</a></li>
<li><a href="#update(char%5B%5D)" tabindex="0">update(char[])</a></li>
<li><a href="#update(int%5B%5D)" tabindex="0">update(int[])</a></li>
<li><a href="#update(long%5B%5D)" tabindex="0">update(long[])</a></li>
<li><a href="#getLgNomLongs()" tabindex="0">getLgNomLongs()</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class UpdateSketch" class="title">Class UpdateSketch</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Sketch.html" title="class in org.apache.datasketches.theta">org.apache.datasketches.theta.Sketch</a>
<div class="inheritance">org.apache.datasketches.theta.UpdateSketch</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../common/MemorySegmentStatus.html" title="interface in org.apache.datasketches.common">MemorySegmentStatus</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">UpdateSketch</span>
<span class="extends-implements">extends <a href="Sketch.html" title="class in org.apache.datasketches.theta">Sketch</a></span></div>
<div class="block">The parent class for the  Update Sketch families, such as QuickSelect and Alpha.
The primary task of an Update Sketch is to consider datums presented via the update() methods
for inclusion in its internal cache. This is the sketch building process.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Lee Rhodes</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final <a href="UpdateSketchBuilder.html" title="class in org.apache.datasketches.theta">UpdateSketchBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#builder()" class="member-name-link">builder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a new builder</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CompactSketch.html" title="class in org.apache.datasketches.theta">CompactSketch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#compact(boolean,java.lang.foreign.MemorySegment)" class="member-name-link">compact</a><wbr>(boolean&nbsp;dstOrdered,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;dstWSeg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Convert this sketch to a <i>CompactSketch</i>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCompactBytes()" class="member-name-link">getCompactBytes</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of storage bytes required for this Sketch if its current state were
compacted.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getLgNomLongs()" class="member-name-link">getLgNomLongs</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the Log base 2 of the configured nominal entries</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="../common/ResizeFactor.html" title="enum class in org.apache.datasketches.common">ResizeFactor</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getResizeFactor()" class="member-name-link">getResizeFactor</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the configured ResizeFactor</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSeed()" class="member-name-link">getSeed</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the configured seed</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasMemorySegment()" class="member-name-link">hasMemorySegment</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if this object's internal data is backed by a MemorySegment,
which may be on-heap or off-heap.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#heapify(java.lang.foreign.MemorySegment)" class="member-name-link">heapify</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcSeg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Instantiates an on-heap UpdateSketch from a MemorySegment.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#heapify(java.lang.foreign.MemorySegment,long)" class="member-name-link">heapify</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcSeg,
 long&nbsp;expectedSeed)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Instantiates an on-heap UpdateSketch from a MemorySegment.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCompact()" class="member-name-link">isCompact</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if this sketch is in compact form.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOffHeap()" class="member-name-link">isOffHeap</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if this object's internal data is backed by an off-heap (direct or native)) MemorySegment.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOrdered()" class="member-name-link">isOrdered</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if internal cache is ordered</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isSameResource(java.lang.foreign.MemorySegment)" class="member-name-link">isSameResource</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;that)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if an internally referenced MemorySegment has the same backing resource as <i>that</i>,
or equivalently, if their two memory regions overlap.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rebuild()" class="member-name-link">rebuild</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Rebuilds the hash table to remove dirty values or to reduce the size
to nominal entries.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#reset()" class="member-name-link">reset</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Resets this sketch back to a virgin empty state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(byte%5B%5D)" class="member-name-link">update</a><wbr>(byte[]&nbsp;data)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given byte array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(char%5B%5D)" class="member-name-link">update</a><wbr>(char[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given char array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(double)" class="member-name-link">update</a><wbr>(double&nbsp;datum)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given double (or float) datum.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(int%5B%5D)" class="member-name-link">update</a><wbr>(int[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given integer array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(long)" class="member-name-link">update</a><wbr>(long&nbsp;datum)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with a long.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(long%5B%5D)" class="member-name-link">update</a><wbr>(long[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given long array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(java.lang.String)" class="member-name-link">update</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;datum)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given String.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(java.nio.ByteBuffer)" class="member-name-link">update</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buffer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Present this sketch with the given ByteBuffer
If the ByteBuffer is null or empty, no update attempt is made and the method returns.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#wrap(java.lang.foreign.MemorySegment)" class="member-name-link">wrap</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcWSeg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Wrap takes the writable sketch image in MemorySegment and refers to it directly.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#wrap(java.lang.foreign.MemorySegment,org.apache.datasketches.common.MemorySegmentRequest,long)" class="member-name-link">wrap</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcWSeg,
 <a href="../common/MemorySegmentRequest.html" title="interface in org.apache.datasketches.common">MemorySegmentRequest</a>&nbsp;mSegReq,
 long&nbsp;expectedSeed)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Wrap takes the sketch image in MemorySegment and refers to it directly.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.datasketches.theta.Sketch">Methods inherited from class&nbsp;<a href="Sketch.html#method-summary" title="class in org.apache.datasketches.theta">Sketch</a></h3>
<code><a href="Sketch.html#compact()" title="compact()">compact</a>, <a href="Sketch.html#getCompactSketchMaxBytes(int)" title="getCompactSketchMaxBytes(int)">getCompactSketchMaxBytes</a>, <a href="Sketch.html#getCountLessThanThetaLong(long)" title="getCountLessThanThetaLong(long)">getCountLessThanThetaLong</a>, <a href="Sketch.html#getCurrentBytes()" title="getCurrentBytes()">getCurrentBytes</a>, <a href="Sketch.html#getEstimate()" title="getEstimate()">getEstimate</a>, <a href="Sketch.html#getEstimate(java.lang.foreign.MemorySegment)" title="getEstimate(MemorySegment)">getEstimate</a>, <a href="Sketch.html#getFamily()" title="getFamily()">getFamily</a>, <a href="Sketch.html#getLowerBound(int)" title="getLowerBound(int)">getLowerBound</a>, <a href="Sketch.html#getLowerBound(int,java.lang.foreign.MemorySegment)" title="getLowerBound(int, MemorySegment)">getLowerBound</a>, <a href="Sketch.html#getMaxCompactSketchBytes(int)" title="getMaxCompactSketchBytes(int)">getMaxCompactSketchBytes</a>, <a href="Sketch.html#getMaxUpdateSketchBytes(int)" title="getMaxUpdateSketchBytes(int)">getMaxUpdateSketchBytes</a>, <a href="Sketch.html#getRetainedEntries()" title="getRetainedEntries()">getRetainedEntries</a>, <a href="Sketch.html#getRetainedEntries(boolean)" title="getRetainedEntries(boolean)">getRetainedEntries</a>, <a href="Sketch.html#getRetainedEntries(java.lang.foreign.MemorySegment)" title="getRetainedEntries(MemorySegment)">getRetainedEntries</a>, <a href="Sketch.html#getSerializationVersion(java.lang.foreign.MemorySegment)" title="getSerializationVersion(MemorySegment)">getSerializationVersion</a>, <a href="Sketch.html#getTheta()" title="getTheta()">getTheta</a>, <a href="Sketch.html#getThetaLong()" title="getThetaLong()">getThetaLong</a>, <a href="Sketch.html#getUpdateSketchMaxBytes(int)" title="getUpdateSketchMaxBytes(int)">getUpdateSketchMaxBytes</a>, <a href="Sketch.html#getUpperBound(int)" title="getUpperBound(int)">getUpperBound</a>, <a href="Sketch.html#getUpperBound(int,java.lang.foreign.MemorySegment)" title="getUpperBound(int, MemorySegment)">getUpperBound</a>, <a href="Sketch.html#isEmpty()" title="isEmpty()">isEmpty</a>, <a href="Sketch.html#isEstimationMode()" title="isEstimationMode()">isEstimationMode</a>, <a href="Sketch.html#iterator()" title="iterator()">iterator</a>, <a href="Sketch.html#toByteArray()" title="toByteArray()">toByteArray</a>, <a href="Sketch.html#toString()" title="toString()">toString</a>, <a href="Sketch.html#toString(boolean,boolean,int,boolean)" title="toString(boolean, boolean, int, boolean)">toString</a>, <a href="Sketch.html#toString(byte%5B%5D)" title="toString(byte[])">toString</a>, <a href="Sketch.html#toString(java.lang.foreign.MemorySegment)" title="toString(MemorySegment)">toString</a>, <a href="Sketch.html#wrap(java.lang.foreign.MemorySegment,long)" title="wrap(MemorySegment, long)">wrap</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="wrap(java.lang.foreign.MemorySegment)">
<h3>wrap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></span>&nbsp;<span class="element-name">wrap</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcWSeg)</span></div>
<div class="block">Wrap takes the writable sketch image in MemorySegment and refers to it directly. There is no data copying onto
the java heap. Only "Direct" Serialization Version 3 (i.e, OpenSource) sketches that have
been explicitly stored as writable, direct objects can be wrapped. This method assumes the
<a href="../common/Util.html#DEFAULT_UPDATE_SEED"><code>Util.DEFAULT_UPDATE_SEED</code></a>.
<a href="../../../../resources/dictionary.html#defaultUpdateSeed">Default Update Seed</a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>srcWSeg</code> - an image of a writable sketch where the image seed hash matches the default seed hash.
It must have a size of at least 24 bytes.</dd>
<dt>Returns:</dt>
<dd>an UpdateSketch backed by the given MemorySegment</dd>
<dt>Throws:</dt>
<dd><code><a href="../common/SketchesArgumentException.html" title="class in org.apache.datasketches.common">SketchesArgumentException</a></code> - if the provided MemorySegment
is invalid, corrupted, or incompatible with this sketch type.
Callers must treat this as a fatal error for that segment.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="wrap(java.lang.foreign.MemorySegment,org.apache.datasketches.common.MemorySegmentRequest,long)">
<h3>wrap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></span>&nbsp;<span class="element-name">wrap</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcWSeg,
 <a href="../common/MemorySegmentRequest.html" title="interface in org.apache.datasketches.common">MemorySegmentRequest</a>&nbsp;mSegReq,
 long&nbsp;expectedSeed)</span></div>
<div class="block">Wrap takes the sketch image in MemorySegment and refers to it directly. There is no data copying onto
the java heap. Only "Direct" Serialization Version 3 (i.e, OpenSource) sketches that have
been explicitly stored as writable direct objects can be wrapped.
An attempt to "wrap" earlier version sketches will result in a "heapified", normal
Java Heap version of the sketch where all data will be copied to the heap.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>srcWSeg</code> - an image of a writable sketch where the image seed hash matches the given seed hash.
It must have a size of at least 24 bytes.</dd>
<dd><code>mSegReq</code> - an implementation of the MemorySegmentRequest interface or null.</dd>
<dd><code>expectedSeed</code> - the seed used to validate the given MemorySegment image.
<a href="../../../../resources/dictionary.html#seed">See Update Hash Seed</a>.
Compact sketches store a 16-bit hash of the seed, but not the seed itself.</dd>
<dt>Returns:</dt>
<dd>a UpdateSketch backed by the given MemorySegment</dd>
<dt>Throws:</dt>
<dd><code><a href="../common/SketchesArgumentException.html" title="class in org.apache.datasketches.common">SketchesArgumentException</a></code> - if the provided MemorySegment
is invalid, corrupted, or incompatible with this sketch type.
Callers must treat this as a fatal error for that segment.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="heapify(java.lang.foreign.MemorySegment)">
<h3>heapify</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></span>&nbsp;<span class="element-name">heapify</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcSeg)</span></div>
<div class="block">Instantiates an on-heap UpdateSketch from a MemorySegment. This method assumes the
<a href="../common/Util.html#DEFAULT_UPDATE_SEED"><code>Util.DEFAULT_UPDATE_SEED</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>srcSeg</code> - the given MemorySegment with a sketch image.
It must have a size of at least 24 bytes.</dd>
<dt>Returns:</dt>
<dd>an UpdateSketch</dd>
<dt>Throws:</dt>
<dd><code><a href="../common/SketchesArgumentException.html" title="class in org.apache.datasketches.common">SketchesArgumentException</a></code> - if the provided MemorySegment
is invalid, corrupted, or incompatible with this sketch type.
Callers must treat this as a fatal error for that segment.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="heapify(java.lang.foreign.MemorySegment,long)">
<h3>heapify</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></span>&nbsp;<span class="element-name">heapify</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;srcSeg,
 long&nbsp;expectedSeed)</span></div>
<div class="block">Instantiates an on-heap UpdateSketch from a MemorySegment.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>srcSeg</code> - the given MemorySegment.
It must have a size of at least 24 bytes.</dd>
<dd><code>expectedSeed</code> - the seed used to validate the given MemorySegment image.
<a href="../../../../resources/dictionary.html#seed">See Update Hash Seed</a>.</dd>
<dt>Returns:</dt>
<dd>an UpdateSketch</dd>
<dt>Throws:</dt>
<dd><code><a href="../common/SketchesArgumentException.html" title="class in org.apache.datasketches.common">SketchesArgumentException</a></code> - if the provided MemorySegment
is invalid, corrupted, or incompatible with this sketch type.
Callers must treat this as a fatal error for that segment.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="compact(boolean,java.lang.foreign.MemorySegment)">
<h3>compact</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CompactSketch.html" title="class in org.apache.datasketches.theta">CompactSketch</a></span>&nbsp;<span class="element-name">compact</span><wbr><span class="parameters">(boolean&nbsp;dstOrdered,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;dstWSeg)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="Sketch.html#compact(boolean,java.lang.foreign.MemorySegment)">Sketch</a></code></span></div>
<div class="block">Convert this sketch to a <i>CompactSketch</i>.

 <p>If this sketch is a type of <i>UpdateSketch</i>, the compacting process converts the hash table
 of the <i>UpdateSketch</i> to a simple list of the valid hash values.
 Any hash values of zero or equal-to or greater than theta will be discarded.
 The number of valid values remaining in the <i>CompactSketch</i> depends on a number of factors,
 but may be larger or smaller than <i>Nominal Entries</i> (or <i>k</i>).
 It will never exceed 2<i>k</i>.
 If it is critical to always limit the size to no more than <i>k</i>,
 then <i>rebuild()</i> should be called on the <i>UpdateSketch</i> prior to calling this method.</p>

 <p>A <i>CompactSketch</i> is always immutable.</p>

 <p>A new <i>CompactSketch</i> object is created:</p>
 <ul><li>if <i>dstSeg!= null</i></li>
 <li>if <i>dstSeg == null</i> and <i>this.hasMemorySegment() == true</i></li>
 <li>if <i>dstSeg == null</i> and <i>this</i> has more than 1 item and <i>this.isOrdered() == false</i>
 and <i>dstOrdered == true</i>.</li>
</ul>

 <p>Otherwise, this operation returns <i>this</i>.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Sketch.html#compact(boolean,java.lang.foreign.MemorySegment)">compact</a></code>&nbsp;in class&nbsp;<code><a href="Sketch.html" title="class in org.apache.datasketches.theta">Sketch</a></code></dd>
<dt>Parameters:</dt>
<dd><code>dstOrdered</code> - assumed true if this sketch is empty or has only one value
 <a href="../../../../resources/dictionary.html#dstOrdered">See Destination Ordered</a></dd>
<dd><code>dstWSeg</code> - <a href="../../../../resources/dictionary.html#dstSeg">See Destination MemorySegment</a>.</dd>
<dt>Returns:</dt>
<dd>this sketch as a <i>CompactSketch</i>.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getCompactBytes()">
<h3>getCompactBytes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getCompactBytes</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="Sketch.html#getCompactBytes()">Sketch</a></code></span></div>
<div class="block">Returns the number of storage bytes required for this Sketch if its current state were
compacted. It this sketch is already in the compact form this is equivalent to
calling <a href="Sketch.html#getCurrentBytes()"><code>Sketch.getCurrentBytes()</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Sketch.html#getCompactBytes()">getCompactBytes</a></code>&nbsp;in class&nbsp;<code><a href="Sketch.html" title="class in org.apache.datasketches.theta">Sketch</a></code></dd>
<dt>Returns:</dt>
<dd>number of compact bytes</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="hasMemorySegment()">
<h3>hasMemorySegment</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasMemorySegment</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../common/MemorySegmentStatus.html#hasMemorySegment()">MemorySegmentStatus</a></code></span></div>
<div class="block">Returns true if this object's internal data is backed by a MemorySegment,
which may be on-heap or off-heap.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this object's internal data is backed by a MemorySegment.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isCompact()">
<h3>isCompact</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCompact</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="Sketch.html#isCompact()">Sketch</a></code></span></div>
<div class="block">Returns true if this sketch is in compact form.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Sketch.html#isCompact()">isCompact</a></code>&nbsp;in class&nbsp;<code><a href="Sketch.html" title="class in org.apache.datasketches.theta">Sketch</a></code></dd>
<dt>Returns:</dt>
<dd>true if this sketch is in compact form.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isOffHeap()">
<h3>isOffHeap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOffHeap</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../common/MemorySegmentStatus.html#isOffHeap()">MemorySegmentStatus</a></code></span></div>
<div class="block">Returns true if this object's internal data is backed by an off-heap (direct or native)) MemorySegment.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this object's internal data is backed by an off-heap (direct or native)) MemorySegment.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isOrdered()">
<h3>isOrdered</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOrdered</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="Sketch.html#isOrdered()">Sketch</a></code></span></div>
<div class="block">Returns true if internal cache is ordered</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Sketch.html#isOrdered()">isOrdered</a></code>&nbsp;in class&nbsp;<code><a href="Sketch.html" title="class in org.apache.datasketches.theta">Sketch</a></code></dd>
<dt>Returns:</dt>
<dd>true if internal cache is ordered</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isSameResource(java.lang.foreign.MemorySegment)">
<h3>isSameResource</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isSameResource</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link">MemorySegment</a>&nbsp;that)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../common/MemorySegmentStatus.html#isSameResource(java.lang.foreign.MemorySegment)">MemorySegmentStatus</a></code></span></div>
<div class="block">Returns true if an internally referenced MemorySegment has the same backing resource as <i>that</i>,
or equivalently, if their two memory regions overlap.  This applies to both on-heap and off-heap MemorySegments.

<p><b>Note:</b> If both segments are on-heap and not read-only, it can be determined if they were derived from
the same backing memory (array).  However, this is not always possible off-heap. Because of this asymmetry, this definition
of "isSameResource" is confined to the existence of an overlap.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>that</code> - The given MemorySegment.</dd>
<dt>Returns:</dt>
<dd>true if an internally referenced MemorySegment has the same backing resource as <i>that</i>.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="builder()">
<h3>builder</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="UpdateSketchBuilder.html" title="class in org.apache.datasketches.theta">UpdateSketchBuilder</a></span>&nbsp;<span class="element-name">builder</span>()</div>
<div class="block">Returns a new builder</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a new builder</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getResizeFactor()">
<h3>getResizeFactor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="../common/ResizeFactor.html" title="enum class in org.apache.datasketches.common">ResizeFactor</a></span>&nbsp;<span class="element-name">getResizeFactor</span>()</div>
<div class="block">Returns the configured ResizeFactor</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the configured ResizeFactor</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getSeed()">
<h3>getSeed</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getSeed</span>()</div>
<div class="block">Gets the configured seed</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the configured seed</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="reset()">
<h3>reset</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reset</span>()</div>
<div class="block">Resets this sketch back to a virgin empty state.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="rebuild()">
<h3>rebuild</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="UpdateSketch.html" title="class in org.apache.datasketches.theta">UpdateSketch</a></span>&nbsp;<span class="element-name">rebuild</span>()</div>
<div class="block">Rebuilds the hash table to remove dirty values or to reduce the size
to nominal entries.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this sketch</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(long)">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(long&nbsp;datum)</span></div>
<div class="block">Present this sketch with a long.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>datum</code> - The given long datum.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(double)">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(double&nbsp;datum)</span></div>
<div class="block">Present this sketch with the given double (or float) datum.
The double will be converted to a long using Double.doubleToLongBits(datum),
which normalizes all NaN values to a single NaN representation.
Plus and minus zero will be normalized to plus zero.
The special floating-point values NaN and +/- Infinity are treated as distinct.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>datum</code> - The given double datum.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(java.lang.String)">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;datum)</span></div>
<div class="block">Present this sketch with the given String.
The string is converted to a byte array using UTF8 encoding.
If the string is null or empty no update attempt is made and the method returns.

<p>Note: this will not produce the same output hash values as the <a href="#update(char%5B%5D)"><code>update(char[])</code></a>
method and will generally be a little slower depending on the complexity of the UTF8 encoding.
</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>datum</code> - The given String.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(byte[])">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(byte[]&nbsp;data)</span></div>
<div class="block">Present this sketch with the given byte array.
If the byte array is null or empty no update attempt is made and the method returns.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - The given byte array.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(java.nio.ByteBuffer)">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buffer)</span></div>
<div class="block">Present this sketch with the given ByteBuffer
If the ByteBuffer is null or empty, no update attempt is made and the method returns.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>buffer</code> - the input ByteBuffer</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(char[])">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(char[]&nbsp;data)</span></div>
<div class="block">Present this sketch with the given char array.
If the char array is null or empty no update attempt is made and the method returns.

<p>Note: this will not produce the same output hash values as the <a href="#update(java.lang.String)"><code>update(String)</code></a>
method but will be a little faster as it avoids the complexity of the UTF8 encoding.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - The given char array.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(int[])">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(int[]&nbsp;data)</span></div>
<div class="block">Present this sketch with the given integer array.
If the integer array is null or empty no update attempt is made and the method returns.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - The given int array.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(long[])">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="UpdateReturnState.html" title="enum class in org.apache.datasketches.theta">UpdateReturnState</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(long[]&nbsp;data)</span></div>
<div class="block">Present this sketch with the given long array.
If the long array is null or empty no update attempt is made and the method returns.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - The given long array.</dd>
<dt>Returns:</dt>
<dd><a href="../../../../resources/dictionary.html#updateReturnState">See Update Return State</a></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getLgNomLongs()">
<h3>getLgNomLongs</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getLgNomLongs</span>()</div>
<div class="block">Gets the Log base 2 of the configured nominal entries</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the Log base 2 of the configured nominal entries</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2015&#x2013;2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
