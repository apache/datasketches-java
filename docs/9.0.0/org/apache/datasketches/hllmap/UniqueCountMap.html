<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (25) -->
<title>UniqueCountMap (datasketches-java 9.0.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.datasketches.hllmap, class: UniqueCountMap">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/UniqueCountMap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">org.apache.datasketches.hllmap</a></li>
<li><a href="UniqueCountMap.html" class="current-selection">UniqueCountMap</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(int)" tabindex="0">UniqueCountMap(int)</a></li>
<li><a href="#%3Cinit%3E(int,int)" tabindex="0">UniqueCountMap(int, int)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#update(byte%5B%5D,byte%5B%5D)" tabindex="0">update(byte[], byte[])</a></li>
<li><a href="#getEstimate(byte%5B%5D)" tabindex="0">getEstimate(byte[])</a></li>
<li><a href="#getUpperBound(byte%5B%5D)" tabindex="0">getUpperBound(byte[])</a></li>
<li><a href="#getLowerBound(byte%5B%5D)" tabindex="0">getLowerBound(byte[])</a></li>
<li><a href="#getActiveEntries()" tabindex="0">getActiveEntries()</a></li>
<li><a href="#getTotalUsageBytes()" tabindex="0">getTotalUsageBytes()</a></li>
<li><a href="#getKeyUsageBytes()" tabindex="0">getKeyUsageBytes()</a></li>
<li><a href="#getAverageSketchBytesPerKey()" tabindex="0">getAverageSketchBytesPerKey()</a></li>
<li><a href="#toString()" tabindex="0">toString()</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class UniqueCountMap" class="title">Class UniqueCountMap</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.datasketches.hllmap.UniqueCountMap</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">UniqueCountMap</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This is a real-time, key-value HLL mapping sketch that tracks approximate unique counts of
identifiers (the values) associated with each key. An example might be tracking the number of
unique user identifiers associated with each IP address. This map has been specifically designed
for the use-case where the number of keys is quite large (many millions) and the distribution of
identifiers per key is very skewed. A typical distribution where this works well is a
power-law distribution of identifiers per key of the form <i>y = Cx<sup>-&alpha;</sup></i>,
where <i>&alpha;</i> &lt; 0.5, and <i>C</i> is roughly <i>y<sub>max</sub></i>.
For example, with 100M keys, over 75% of the keys would have only
one identifier, 99% of the keys would have less than 20 identifiers, 99.9% would have less than
200 identifiers, and a very tiny fraction might have identifiers in the thousands.

<p>The space consumed by this map is quite sensitive to the actual distribution of identifiers
per key, so you should characterize and or experiment with your typical input streams.
Nonetheless, our experiments on live streams of over 100M keys required about 1.4GB of space.
This is about 14 bytes per key for key storage and unique count storage.

<p>Given such highly-skewed distributions, using this map is far more efficient space-wise than
the alternative of dedicating an HLL sketch per key. Based on our use cases, after
subtracting the space required for key storage, the average bytes per key required for unique
count estimation (<a href="#getAverageSketchBytesPerKey()"><code>getAverageSketchBytesPerKey()</code></a>) is about 10.

<p>Internally, this map is implemented as a hierarchy of internal hash maps with progressively
increasing storage allocated for unique count estimation. As a key acquires more identifiers it
is "promoted" up to a higher internal map. The final map of keys is a map of compact HLL
sketches.

<p>The unique values in all the internal maps, except the final HLL map, are stored in a special
form called a coupon. A coupon is a 16-bit value that fully describes a k=1024 HLL bin.
It contains 10 bits of address and a 6-bit HLL value.

<p>All internal maps use a prime number size and Knuth's Open Addressing Double Hash (OADH)
search algorithm.

<p>The internal base map holds all the keys and each key is associated with one 16-bit value.
Initially, the value is a single coupon. Once the key is promoted, this 16-bit field contains a
reference to the internal map where the key is still active.

<p>The intermediate maps between the base map and the final HLL map are of two types.
The first few of these are called traverse maps where the coupons are
stored as unsorted arrays. After the traverse maps are the coupon hash maps, where the coupons
are stored in small OASH hash tables.

<p>All the intermediate maps support deletes and can dynamically grow and shrink as required by
the input stream.

<p>The sketch estimator algorithms are unbiased with a Relative Standard Error (RSE)
of about 2.6% with 68% confidence, or equivalently, about 5.2% with a 95% confidence.

<p>In a parallel package in the sketches-misc repository, there are 2 classes  that can be used
from the command line to feed this mapping sketch piped from standard-in for experimental
evaluation. The first is ProcessIpStream, which processes simple IP/ID pairs and the second,
ProcessDistributionStream, which processes pairs that describe a distribution.
In this same package is the VariousMapRSETest class that was used to generate the error plots
for the web site. Please refer to the javadocs for those classes for more information.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Lee Rhodes, Alexander Saydakov, Kevin Lang</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int)" class="member-name-link">UniqueCountMap</a><wbr>(int&nbsp;keySizeBytes)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a UniqueCountMap with an initial capacity of one million entries.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(int,int)" class="member-name-link">UniqueCountMap</a><wbr>(int&nbsp;initialNumEntries,
 int&nbsp;keySizeBytes)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a UniqueCountMap with a given initial number of entries.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActiveEntries()" class="member-name-link">getActiveEntries</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of active, unique keys across all internal maps</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAverageSketchBytesPerKey()" class="member-name-link">getAverageSketchBytesPerKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the average bytes storage per key that is dedicated to sketching the unique counts.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEstimate(byte%5B%5D)" class="member-name-link">getEstimate</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the current estimate of unique count for a given key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKeyUsageBytes()" class="member-name-link">getKeyUsageBytes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns total bytes used for key storage</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLowerBound(byte%5B%5D)" class="member-name-link">getLowerBound</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the lower bound cardinality with respect to <a href="#getEstimate(byte%5B%5D)"><code>getEstimate(byte[])</code></a> associated
with the given key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalUsageBytes()" class="member-name-link">getTotalUsageBytes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns total bytes used by all internal maps</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUpperBound(byte%5B%5D)" class="member-name-link">getUpperBound</a><wbr>(byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the upper bound cardinality with respect to <a href="#getEstimate(byte%5B%5D)"><code>getEstimate(byte[])</code></a> associated
with the given key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a string with a human-readable summary of the UniqueCountMap and all the internal maps</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(byte%5B%5D,byte%5B%5D)" class="member-name-link">update</a><wbr>(byte[]&nbsp;key,
 byte[]&nbsp;identifier)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the map with a given key and identifier and returns the estimate of the number of
unique identifiers encountered so far for the given key.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int)">
<h3>UniqueCountMap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">UniqueCountMap</span><wbr><span class="parameters">(int&nbsp;keySizeBytes)</span></div>
<div class="block">Constructs a UniqueCountMap with an initial capacity of one million entries.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keySizeBytes</code> - must be at least 4 bytes to have sufficient entropy.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int,int)">
<h3>UniqueCountMap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">UniqueCountMap</span><wbr><span class="parameters">(int&nbsp;initialNumEntries,
 int&nbsp;keySizeBytes)</span></div>
<div class="block">Constructs a UniqueCountMap with a given initial number of entries.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>initialNumEntries</code> - The initial number of entries provides a tradeoff between
wasted space, if too high, and wasted time resizing the table, if too low.</dd>
<dd><code>keySizeBytes</code> - must be at least 4 bytes to have sufficient entropy</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="update(byte[],byte[])">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(byte[]&nbsp;key,
 byte[]&nbsp;identifier)</span></div>
<div class="block">Updates the map with a given key and identifier and returns the estimate of the number of
unique identifiers encountered so far for the given key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the given key</dd>
<dd><code>identifier</code> - the given identifier for unique counting associated with the key</dd>
<dt>Returns:</dt>
<dd>the estimate of the number of unique identifiers encountered so far for the given key.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getEstimate(byte[])">
<h3>getEstimate</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getEstimate</span><wbr><span class="parameters">(byte[]&nbsp;key)</span></div>
<div class="block">Retrieves the current estimate of unique count for a given key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - given key</dd>
<dt>Returns:</dt>
<dd>estimate of unique count so far</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getUpperBound(byte[])">
<h3>getUpperBound</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getUpperBound</span><wbr><span class="parameters">(byte[]&nbsp;key)</span></div>
<div class="block">Returns the upper bound cardinality with respect to <a href="#getEstimate(byte%5B%5D)"><code>getEstimate(byte[])</code></a> associated
with the given key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the given key</dd>
<dt>Returns:</dt>
<dd>the upper bound cardinality with respect to <a href="#getEstimate(byte%5B%5D)"><code>getEstimate(byte[])</code></a> associated
with the given key.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getLowerBound(byte[])">
<h3>getLowerBound</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getLowerBound</span><wbr><span class="parameters">(byte[]&nbsp;key)</span></div>
<div class="block">Returns the lower bound cardinality with respect to <a href="#getEstimate(byte%5B%5D)"><code>getEstimate(byte[])</code></a> associated
with the given key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the given key</dd>
<dt>Returns:</dt>
<dd>the lower bound cardinality with respect to <a href="#getEstimate(byte%5B%5D)"><code>getEstimate(byte[])</code></a> associated
with the given key.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getActiveEntries()">
<h3>getActiveEntries</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getActiveEntries</span>()</div>
<div class="block">Returns the number of active, unique keys across all internal maps</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of active, unique keys across all internal maps</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTotalUsageBytes()">
<h3>getTotalUsageBytes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTotalUsageBytes</span>()</div>
<div class="block">Returns total bytes used by all internal maps</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>total bytes used by all internal maps</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getKeyUsageBytes()">
<h3>getKeyUsageBytes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getKeyUsageBytes</span>()</div>
<div class="block">Returns total bytes used for key storage</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>total bytes used for key storage</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getAverageSketchBytesPerKey()">
<h3>getAverageSketchBytesPerKey</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getAverageSketchBytesPerKey</span>()</div>
<div class="block">Returns the average bytes storage per key that is dedicated to sketching the unique counts.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the average bytes storage per key that is dedicated to sketching the unique counts.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a string with a human-readable summary of the UniqueCountMap and all the internal maps</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>human-readable summary</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2015&#x2013;2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
